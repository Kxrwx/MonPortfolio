<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Image Zoom and Move</title>
    <style>
        body {
            width: 100%;
            height: 10000px;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        section {
            height: 1000px;
        }
        .parent{
            width: 100%;
            height: auto;
        }
        .container {
            
            position: absolute;
            width: 100%;
            height: auto; 
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
            transition: ease-in-out;
        }

        .container-clair,
        .container-ampoule {
            margin-top: 22.5%;/*195px*/
            width: 100%;
            height: auto;
        }

            .container-clair img,
            .container-ampoule img {
                width: 100%;
                height: auto;
                display: block;
            }

        .container-clair {
            z-index: 2;
            position: absolute;
        }

        .container-ampoule {
            position: absolute;
            z-index: 1;
            transform: scale(0.5);

        }
        .container-cloud 
        .container-cloud1{
            display: block;
            opacity: 0;
            z-index: 3;
        }
    </style>
</head>
<body>
    <section></section>
    <div class="parent">
        <div class="container">
            <div class="container-clair">
                <img src="clair.png" />
            </div>
            <div class="container-ampoule">
                <img src="ampoule.jpg" />
            </div>
        </div>
    </div>
    <div class="container-cloud">
        <div class="container-cloud1">
            <img src="cloud1.png"/>
        </div>
    </div>






<!-- GSAP et ScrollTrigger -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/ScrollTrigger.min.js"></script>

<script>
    const clair = document.querySelector(".container-clair");
    const ampoule = document.querySelector(".container-ampoule");
    const container = document.querySelector(".container");
    const cloud = document.querySelector(".container-cloud");
    const cloud1 = document.querySelector(".container-cloud1");
    clair.style.opacity = "1";
    ampoule.style.opacity = "1";



    gsap.registerPlugin(ScrollTrigger);

    gsap.to(container, {
        scale: 4,
        transformOrigin: "48% center",
        scrollTrigger: {
            trigger: container,
            start: "center 30%",
            end: "bottom -10%",
            scrub: true,
            markers: true,
            pin: true,
            
            onEnter: () => {
                clair.style.opacity = "1";
                ampoule.style.opacity = "1";
            },
            onLeave: () => {
                clair.style.opacity = "0"; 
                ampoule.style.opacity = "1";
                cloud.style.opacity = "1";
                cloud1.style.opacity = "1";

            },
            onEnterBack: () => {
                clair.style.opacity = "1";
                ampoule.style.opacity = "1";
                cloud.style.opacity = "0";
                cloud1.style.opacity = "0";
            },
        }
    });
    gsap.to(ampoule, {
        scale: 0.3,
        transformOrigin: "center center",
        scrollTrigger: {
            trigger: container,
            start: "bottom 20%", 
            end: "bottom -50%", 
            scrub: true,
            markers: true,
            pin: true,
        },
       
    });
    

</script>

</body>
</html>
